@startuml audit_logging_sequence

title ðŸ“‹ Sequence: Data Audit Logging

actor User
participant "Frontend Client" as Frontend
participant "API Gateway (Golang)" as APIGateway
participant "Audit Logging Service" as AuditService
participant "Database" as DB

== Data Create/Update/Delete Flow ==
User -> Frontend : Submit data change request
Frontend -> APIGateway : POST /api/v1/data\n(header: trace-id, auth token)
APIGateway -> DB : Simpan data perubahan
APIGateway -> AuditService : Kirim event audit\n(detail perubahan, user, timestamp, trace-id)
AuditService -> DB : Simpan log audit
AuditService -> APIGateway : Konfirmasi log berhasil disimpan
APIGateway -> Frontend : Response sukses
Frontend -> User : Tampilkan notifikasi sukses

@enduml
